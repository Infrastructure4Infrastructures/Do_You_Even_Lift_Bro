// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id       Int        @id @default(autoincrement())
  username String     @unique
  password String
  journal  Journal[]
  workouts Workouts[]
  meals    Meals[]
}

model Workouts {
  id                Int                 @id @default(autoincrement())
  difficulty        String
  description       String
  user              User                @relation(fields: [], references: [])
  userId            Int
  workout_exercises Workout_Exercises[]
  journal_entry     Journal_Entry[]
}

model Workout_Exercises {
  id         Int         @id @default(autoincrement())
  exerciseId Int         @unique
  workoutId  Int
  setsGoal   Int
  repsGoal   Int
  mySets     Int
  myReps     Int
  workouts   Workouts    @relation(fields: [workoutId], references: [id])
  exercises  Exercises[]
}

model Exercises {
  id                Int               @id @default(autoincrement())
  name              String
  description       String
  category          Enum
  workout_exercises Workout_Exercises @relation(fields: [id], references: [exerciseId])
  journal_entry     Journal_Entry[]
}

model Food_item {
  id              Int               @id @default(autoincrement())
  foodEntry       String
  description     String
  calories        Int
  journal_entry   Journal_Entry[]
  meal_food_items Meal_Food_Items[]
}

model Meals {
  id              Int               @id @default(autoincrement())
  userId          Int
  type            Enum
  dow             String
  meal_food_items Meal_Food_Items[]
}

model Meal_Food_Items {
  id     Int     @id @default(autoincrement())
  mealId Int
  foodId Int
  meals  Meals[]
}

model Journal_Entry {
  id          Int      @id @default(autoincrement())
  date        DateTime @default(now())
  mealId      Int
  food_ItemId Int
  journalId   Int
  exerciseId  Int
  workoutId   Int
  note        String
}

model Journal {
  id            Int             @id @default(autoincrement())
  userId        Int
  journal_entry Journal_Entry[]
}
